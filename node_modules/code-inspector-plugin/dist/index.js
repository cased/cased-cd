"use strict";var a=Object.defineProperty,f=Object.defineProperties;var p=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var i=(e,r,n)=>r in e?a(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,l=(e,r)=>{for(var n in r||(r={}))b.call(r,n)&&i(e,n,r[n]);if(c)for(var n of c(r))g.call(r,n)&&i(e,n,r[n]);return e},o=(e,r)=>f(e,p(r));Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const m=require("@code-inspector/vite"),P=require("@code-inspector/webpack"),I=require("@code-inspector/esbuild"),k=require("@code-inspector/turbopack"),q=require("@code-inspector/mako"),t=require("@code-inspector/core"),C=require("chalk"),d=require("path");function s(e){if(!(e!=null&&e.bundler)){console.log(C.red("Please specify the bundler in the options of code-inspector-plugin."));return}let r=!1;e.needEnvInspector&&(r=!0,t.getEnvVariable("CODE_INSPECTOR",process.cwd())==="true"&&(r=!1));let n="";typeof __dirname!="undefined"?n=__dirname:n=d.dirname(t.fileURLToPath(typeof document=="undefined"?require("url").pathToFileURL(__filename).href:document.currentScript&&document.currentScript.src||new URL("index.js",document.baseURI).href));const u=o(l({},e),{close:r,output:d.resolve(n,"./")});return t.resetFileRecord(u.output),e.bundler==="webpack"||e.bundler==="rspack"?new P(u):e.bundler==="esbuild"?I.EsbuildCodeInspectorPlugin(u):e.bundler==="turbopack"?k.TurbopackCodeInspectorPlugin(u):e.bundler==="mako"?q.MakoCodeInspectorPlugin(u):m.ViteCodeInspectorPlugin(u)}const h=s;exports.CodeInspectorPlugin=s;exports.codeInspectorPlugin=h;
